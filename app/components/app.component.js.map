{"version":3,"file":"app.component.js","sourceRoot":"","sources":["../../Users/aivanychev/AngularStudy/PartyPlanner/tmp/broccoli_type_script_compiler-input_base_path-oEZfoxjS.tmp/0/src/app/components/app.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component } from '@angular/core';\nimport { StoreLogMonitorComponent } from '@ngrx/store-log-monitor';\nimport { User } from '../models/userModel';\nimport { Store } from '@ngrx/store';\nimport { peopleActionMap } from '../reducers/peopleReducer';\nimport { PersonListComponent } from './person-list.component';\nimport { PersonInputComponent } from './person-input.component';\nimport { PartyFilterComponent } from './party-filter.component';\nimport { PartyStatsComponent } from './party-stats.component';\nimport { Observable } from 'rxjs/Rx';\nimport {\n  partyModel,\n} from '../models/partyModelSelectors';\nimport { MaterializeDirective } from \"angular2-materialize\";\nimport { TopButtonComponent } from \"./top-button.component\";\n\ninterface AppState {\n  people: User[],\n  partyFilter: any\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'app-root',\n  templateUrl: 'app.component.html',\n  directives: [\n    StoreLogMonitorComponent,\n    PersonListComponent,\n    PersonInputComponent,\n    PartyStatsComponent,\n    PartyFilterComponent,\n    MaterializeDirective,\n    TopButtonComponent\n  ]\n})\nexport class AppComponent {\n  model: any;\n  private subscription;\n  counter: number = 0;\n\n  constructor(private _store: Store<AppState>) {\n    this.subscription = Observable.combineLatest(\n      _store.select('people'),\n      _store.select('partyFilter')\n    ).let(partyModel()).subscribe(model => this.model = model);\n  }\n\n  id() {\n    this.counter++;\n    return Date.now() + this.counter;\n  }\n\n  updateFilter(filterAction) {\n    this._store.dispatch({\n      type:filterAction\n    });\n  }\n\n  addPerson(name) {\n    this._store.dispatch(\n      {\n        type: peopleActionMap.ADD_PERSON,\n        payload: new User(this.id(), name, 0, false)\n      }\n    );\n  }\n\n  removePerson(id) {\n    this._store.dispatch(\n      {\n        type: peopleActionMap.REMOVE_PERSON,\n        payload: id\n      }\n    );\n  }\n\n  addGuest(id) {\n    this._store.dispatch(\n      {\n        type: peopleActionMap.ADD_GUEST,\n        payload: id\n      }\n    );\n  }\n\n  removeGuest(id) {\n    this._store.dispatch(\n      {\n        type: peopleActionMap.REMOVE_GUEST,\n        payload: id\n      }\n    );\n  }\n\n  toggleAttending(id) {\n    this._store.dispatch(\n      {\n        type: peopleActionMap.TOGGLE_ATTENDING,\n        payload: id\n      }\n    );\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n"]}